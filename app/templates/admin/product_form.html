{% extends "base.html" %}

{% block content %}
<h1 class="mb-4">{% if product %}Edit{% else %}Add New{% endif %} Product</h1>
<form method="POST" enctype="multipart/form-data">
    <div class="mb-3">
        <label for="name" class="form-label">Name</label>
        <input type="text" class="form-control" id="name" name="name" value="{{ product.name if product else '' }}" required>
    </div>
    <div class="mb-3">
        <label for="brand" class="form-label">Brand</label>
        <input type="text" class="form-control" id="brand" name="brand" value="{{ product.brand if product else '' }}" required>
    </div>
    <div class="mb-3">
        <label for="type" class="form-label">Type</label>
        <select class="form-select" id="type" name="type" required>
            {% for category in categories %}
            <option value="{{ category.name }}" {% if product and product.type == category.name %}selected{% endif %}>{{ category.name }}</option>
            {% endfor %}
        </select>
    </div>
    <div class="mb-3">
        <label for="protein_per_serving" class="form-label">Protein per Serving (g)</label>
        <input type="number" step="0.1" class="form-control" id="protein_per_serving" name="protein_per_serving" value="{{ product.protein_per_serving if product else '' }}" required>
    </div>
    <div class="mb-3">
        <label for="price" class="form-label">Price ($)</label>
        <input type="number" step="0.01" class="form-control" id="price" name="price" value="{{ product.price if product else '' }}" required>
    </div>
    <div class="mb-3">
        <label for="image" class="form-label">Product Image</label>
        <input type="file" class="form-control" id="image" name="image" accept="image/*">
        {% if product and product.image_url %}
            <img src="{{ product.image_url }}" alt="{{ product.name }}" class="mt-2" style="max-width: 200px;">
        {% endif %}
    </div>
    <!-- Add other fields as necessary -->
    <button type="submit" class="btn btn-primary">{% if product %}Update{% else %}Create{% endif %} Product</button>
</form>
{% endblock %}